create or replace table Catalog_CONTRAGENTS_PS 
(
   CSCD_ID              SEQUENCE                       not null,
   USRLE_flag           FLAG                           null,
   Attention_flag       FLAG                           null,
   History_Contragent_ID RELATIONSHIP                   null,
   Login_History_Creator STRING                         null,
   History_Date_to      DATE                           null,
   History_Blocked      FLAG                           null,
   Priority_Request     FLAG                           null,
   CONTRAGENT_Group     RELATIONSHIP                   null,
   Form_ID              RELATIONSHIP                   null,
   Short_Name           STRING                         null,
   ru_RU                STRING                         null,
   en_US                STRING                         null,
   Full_Name            STRING                         null,
   Report_Name          STRING                         null,
   Bill_Name            STRING                         null,
   INN                  STRING                         null,
   KPP                  STRING                         null,
   KPP_Big              STRING                         null,
   KPP_Big_Date         DATE                           null,
   OGRN                 STRING                         null,
   OGRN_Assignment_Date DATE                           null,
   OKPO                 STRING                         null,
   MAIN_OKVED2_VIEW     STRING                         null,
   ADDITIONAL_OKVED2    STRING                         null,
   NRA                  STRING                         null,
   Reg_Code             STRING                         null,
   GLN                  STRING                         null,
   Tax_Code             STRING                         null,
   NDS_Code             STRING                         null,
   NORC                 STRING                         null,
   OKATO_Code           STRING                         null,
   OKTMO_Code           STRING                         null,
   Client_MPS           STRING                         null,
   Individual           FLAG                           null,
   SELF_EMPLOYED        FLAG                           null,
   Public_Sector_Org    FLAG                           null,
   Alimony_Recipient    FLAG                           null,
   Personal_Name        GROUPING                       null,
   Surname              STRING                         null,
   First_Name           STRING                         null,
   Second_Name          STRING                         null,
   Competitor           FLAG                           null,
   Responsibility       FLAG                           null,
   Tax_Payer_Flag       FLAG                           null,
   MFO                  FLAG                           null,
   Joint_Venture        FLAG                           null,
   Forwarder            FLAG                           null,
   Natural_monopoly     FLAG                           null,
   Subject_223FZ        FLAG                           null,
   OWN_BALANCE_UNIT     RELATIONSHIP                   null,
   Dependent_ID         RELATIONSHIP                   null,
   Concern_Dependent_ID RELATIONSHIP                   null,
   Invoice_By_Brunch    FLAG                           null,
   Concern_ID           RELATIONSHIP                   null,
   Filial_Type_ID       RELATIONSHIP                   null,
   Bank_ID              RELATIONSHIP                   null,
   Own_Bank             FLAG                           null,
   Customs_ID           RELATIONSHIP                   null,
   OHO_ID               STRING                         null,
   Kind_Industry_ID     RELATIONSHIP                   null,
   Custom_Category_ID   RELATIONSHIP                   null,
   KGN                  FLAG                           null,
   KGN_Comment          STRING                         null,
   Project              STRING                         null,
   Tax_Inspection_Code  STRING                         null,
   Is_fiscal_organization FLAG                           null,
   Customs_Pay_Purpose  STRING                         null,
   Customs_Pay_Recipient STRING                         null,
   GAAP_Cons_Code       STRING                         null,
   Document_Required    FLAG                           null,
   "Comment"            STRING                         null,
   ISU_Registration_Data STRING                         null,
   Existent_ID          RELATIONSHIP                   null,
   Double_ID            RELATIONSHIP                   null,
   Date_Begin           DATE                           null,
   Date_End             DATE                           null,
   Change_Kind_ID       RELATIONSHIP                   null,
   Date_of_notarization DATE                           null,
   Blocked              FLAG                           null,
   ISP_CODE             STRING                         null,
   EGRUL_Synch          FLAG                           null,
   EGRUL_Date_Synch     DATE                           null,
   EGRUL_Exclusion      FLAG                           null,
   Technical_Contragent FLAG                           null,
   Simplified_tax_scheme FLAG                           null,
   Is_Bankrupt          FLAG                           null,
   Is_Ex_Budg_Fund      FLAG                           null,
   Is_VAT_Group         FLAG                           null,
   Is_Consignee         FLAG                           null,
   ZFACT                FLAG                           null,
   ZDISC                FLAG                           null,
   PI_storage_life      DATE                           null,
   MERCURY_ATTRIBUTES   GROUPING                       null,
   ID                   STRING                         null,
   "Запись в Меркурии заблокирована" FLAG                           null,
   UUID                 STRING                         null,
   TASK_CREATOR         STRING                         null,
   TaskCreator_Organization STRING                         null,
   TaskCreator_Date     DATE                           null,
   ItemCreator          STRING                         null,
   Create_Date          DATE                           null,
   DisplayName          STRING                         null,
   Change_history       GROUPING                       null,
   User_changed         STRING                         null,
   Date_changed         DATE                           null,
   Redactor             STRING                         null,
   Date_redactor        DATE                           null,
   Change_Type          STRING_ENUMERATION             null,
   Promptness           STRING_ENUMERATION             null,
   Reason               STRING                         null,
   Basic_doc            BINARY                         null,
   Basic_doc_Hidden_Document_Link BINARY                         null,
   Basic_doc_Hidden_Tmp STRING                         null,
   actual_info          STRING                         null,
   MAIN_VERSION_EN      STRING_ENUMERATION             null,
   Postcode_LA          STRING                         null,
   GUID_LA              STRING_ENUMERATION             null,
   AOGUID_LA            STRING                         null,
   KLADR_ID             STRING                         null,
   History_OKTMO_Code   STRING                         null,
   AM_Country_ID        RELATIONSHIP                   null,
   AM_Federal_Okrug_ID  STRING                         null,
   AM_Region_ID         STRING_ENUMERATION             null,
   Area_LA              STRING                         null,
   City_Name            STRING                         null,
   Foreign_City_ID      STRING_ENUMERATION             null,
   Settl_Name           STRING                         null,
   Street               STRING                         null,
   House                STRING                         null,
   House_Enum_LA        STRING_ENUMERATION             null,
   Housing              STRING                         null,
   Room                 STRING                         null,
   Floor                STRING                         null,
   APARTMENT            STRING                         null,
   Assemble_Full_Address FLAG                           null,
   Full_Address         STRING                         null,
   fillingdate          DATE                           null,
   FIX_LA               FLAG                           null,
   JurAddress_Is_PostAddress FLAG                           null,
   Postcode_PA          STRING                         null,
   PA_Country_ID        RELATIONSHIP                   null,
   PA_Federal_Okrug_ID  STRING                         null,
   PA_Region_ID         STRING_ENUMERATION             null,
   Area_PA              STRING                         null,
   City_Name_PA         STRING                         null,
   PA_Foreign_City_ID   STRING_ENUMERATION             null,
   PA_Settl_Name        STRING                         null,
   Location             STRING                         null,
   Street_PA            STRING                         null,
   House_PA             STRING                         null,
   Housing_PA           STRING                         null,
   Room_PA              STRING                         null,
   Assemble_Full_PA_Address FLAG                           null,
   Full_Delivery_Address STRING                         null,
   EMAIL                STRING                         null,
   SMTP_Address         STRING                         null,
   Email_Type           RELATIONSHIP                   null,
   Hidden_MAIL          GROUPING                       null,
   PHONE                STRING                         null,
   Tel_Number           STRING                         null,
   Tel_Extends          STRING                         null,
   Tel_Number_Type      RELATIONSHIP                   null,
   Hidden_TELEP         GROUPING                       null,
   FAX                  GROUPING                       null,
   Fax_Number           STRING                         null,
   Fax_Extends          STRING                         null,
   Hidden_FAX           GROUPING                       null,
   FAX_Number2          STRING                         null,
   FAX_Extends2         STRING                         null,
   Skype                STRING                         null,
   Hidden_TELET         GROUPING                       null,
   Website              STRING                         null,
   Hidden_WEBSITE       GROUPING                       null,
   Contract_Manager     GROUPING                       null,
   EMPLOYEE_DATA        GROUPING                       null,
   TAB_NUMBER           STRING                         null,
   BALANCE_UNIT         RELATIONSHIP                   null,
   POSITION             STRING                         null,
   DEPARTAMENT          STRING                         null,
   HIDDEN_EMPLOYEE_DATA GROUPING                       null,
   S_FLAG               FLAG                           null,
   Bank_Acc             GROUPING                       null,
   BIK                  STRING                         null,
   SWIFT                STRING                         null,
   BVTYP                STRING                         null,
   B_Kont               STRING                         null,
   Bank_Number          STRING                         null,
   IBAN                 STRING                         null,
   Currency_ID          RELATIONSHIP                   null,
   Corr_Account         STRING_ENUMERATION             null,
   Acc_Type_ID          RELATIONSHIP                   null,
   Acc_Holder           STRING                         null,
   Bank_Link            STRING                         null,
   START_DATE           DATE                           null,
   DOC_CONTRACT_DATE_TO DATE                           null,
   Is_Own_Bank_Acc      FLAG                           null,
   Own_Bank_Acc_Code    STRING                         null,
   Recipient_Name       STRING                         null,
   AddCurrencies        GROUPING                       null,
   Hidden_Bank_Acc      GROUPING                       null,
   Bank_Acc_ID          SEQUENCE                       null,
   Full_Name_RU         STRING                         null,
   Full_Name_EN         STRING                         null,
   Full_Address_RU      STRING                         null,
   Full_Address_EN      STRING                         null,
   Duplicated_Contragent_ID RELATIONSHIP                   null,
   Hidden_Double_Item   GROUPING                       null,
   "Коды НДС"           GROUPING                       null,
   Country_ID           RELATIONSHIP                   null,
   NDS_Country          STRING                         null,
   Date_To              DATE                           null,
   Hidden_NDS_CODE      GROUPING                       null,
   NDS_Code_ID          SEQUENCE                       null,
   Set_Doc_Contract_Process FLAG                           null,
   FILE                 BINARY                         null,
   "Date"               DATE                           null,
   Name                 STRING                         null,
   Doc_Type             RELATIONSHIP                   null,
   Hidden_Document_Link BINARY                         null,
   Hidden_Tracking_Document_Link BINARY                         null,
   USER_SEGMENT         INTEGER                        null,
   History_Business_Segment_ID STRING                         null,
   History_Business_Sector_ID STRING                         null,
   History_Budget_Unit_ID STRING                         null,
   History_Planning_Unit_ID STRING                         null,
   Budget_Method_ID     RELATIONSHIP                   null,
   Is_EP_Main           FLAG                           null,
   History_Is_BU_Main   FLAG                           null,
   History_Planning_Unit_Currency RELATIONSHIP                   null,
   CFC_Indication       FLAG                           null,
   Own_Currency         RELATIONSHIP                   null,
   Category_ZRSO_ID     RELATIONSHIP                   null,
   CONSOLIDATED_PLANT_GROUP_ID RELATIONSHIP                   null,
   Budget_Method_Actual RELATIONSHIP                   null,
   Is_EP_Main_Actual    FLAG                           null,
   CFC_Indication_Actual FLAG                           null,
   Own_Currency_Actual  RELATIONSHIP                   null,
   Structure_Budget_Method GROUPING                       null,
   TKSSSCODE            SEQUENCE                       null,
   "Дата окончания действия" DATE                           null,
   Structure_Is_EP_Main GROUPING                       null,
   Structure_CFC_Indication GROUPING                       null,
   Structure_Own_Currency GROUPING                       null,
   CONTRAGENT_History   GROUPING                       null,
   Contragent_History_ID RELATIONSHIP                   null,
   MPS                  GROUPING                       null,
   Is_Main_Code         FLAG                           null,
   Route_Node_ID        RELATIONSHIP                   null,
   Hidden_MPS           GROUPING                       null,
   MPS_ID               SEQUENCE                       null,
   Delivery_Address     GROUPING                       null,
   Postcode             STRING                         null,
   Country              STRING                         null,
   Region               STRING                         null,
   TGNL                 STRING                         null,
   MERCURY_NAME         STRING                         null,
   MERCURY_GUID         STRING                         null,
   MERCURY_UUID         STRING                         null,
   Hidden_Delivery_Address GROUPING                       null,
   Delivery_Address_ID  SEQUENCE                       null,
   LUKOIL_Part_Ownership GROUPING                       null,
   Part_Start_Date      DATE                           null,
   Part_End_Date        DATE                           null,
   Part_Owner           GROUPING                       null,
   Part_Owner_Contragent_ID RELATIONSHIP                   null,
   LUKOIL_Group_Participation GROUPING                       null,
   Dependent_Contragent_ID RELATIONSHIP                   null,
   Alt_Contragent_ID    RELATIONSHIP                   null,
   Adm_Contragent_ID    RELATIONSHIP                   null,
   Pay_Contragent_Name  STRING                         null,
   Tax_Account          STRING                         null,
   Alt_Bank_Account_ID  STRING_ENUMERATION             null,
   Alt_Contragent_Type_ID STRING                         null,
   Hidden_Alt_Creditor  GROUPING                       null,
   Alt_Creditor_ID      SEQUENCE                       null,
   Tax_Indicators       GROUPING                       null,
   Tax_Classifier_ID    STRING                         null,
   Is_VAT               FLAG                           null,
   Hidden_Tax_Indicators GROUPING                       null,
   Tax_Indicators_ID    SEQUENCE                       null,
   Contact_Person       GROUPING                       null,
   Number               STRING                         null,
   Birth_Date           DATE                           null,
   Remark               STRING                         null,
   DOC                  STRING                         null,
   Sign_Contract        FLAG                           null,
   Person_Level         INTEGER                        null,
   Title_Nominative     STRING                         null,
   Title_Genitive       STRING                         null,
   Title_Dative         STRING                         null,
   Appeal               STRING                         null,
   Contacts             STRING                         null,
   "Электронная почта"  STRING                         null,
   Hidden_Contact_Person GROUPING                       null,
   Contact_Person_ID    SEQUENCE                       null,
   Email2               STRING                         null,
   TAB_Requisites_of_documents GROUPING                       null,
   Effective_date       DATE                           null,
   Document_date        DATE                           null,
   DOC_CONTRACT_NUM     STRING                         null,
   ZPPKS                GROUPING                       null,
   NMM                  FLAG                           null,
   NDD                  FLAG                           null,
   INV                  FLAG                           null,
   NDPI                 FLAG                           null,
   ESHN                 FLAG                           null,
   ENVD                 FLAG                           null,
   TAX_FREE             FLAG                           null,
   SKOLK                FLAG                           null,
   SPIK                 FLAG                           null,
   MGK                  FLAG                           null,
   PARENT_ORG           FLAG                           null,
   STRAT_ORG            FLAG                           null,
   PREQ_STATUS          STRING                         null,
   PREQ_DATE_FR         DATE                           null,
   PREQ_DATE_TO         DATE                           null,
   CLASS_GOOD           STRING                         null,
   RELIABILITY_LVL      STRING                         null,
   RELIABILITY_VAL      STRING                         null,
   RELIABILITY_DATE     DATE                           null,
   DOC_CONTRACT         GROUPING                       null,
   DOC_CONTRACT_TYPE    STRING                         null,
   DOC_CONTRACT_NAME    STRING                         null,
   DOC_CONTRACT_DATE_KSSS DATE                           null,
   DOC_CONTRACT_RESP    STRING                         null,
   DOC_CONTRACT_CURTR   STRING                         null,
   constraint PK_CATALOG_CONTRAGENTS_PS primary key clustered (CSCD_ID)
);

/*==============================================================*/
/* Table: Catalog_Company_Groups_PS                             */
/*==============================================================*/
create or replace table Catalog_Company_Groups_PS 
(
   COMPANY_GROUP_SPECIAL_ID STRING                         not null,
   SHORT_NAME           STRING                         null,
   CSCD_ID              SEQUENCE                       null,
   ru_RU                STRING                         null,
   en_US                STRING                         null,
   COMPANY_GROUP_SPECIAL_NAME STRING                         null,
   GROUP_USE            STRING                         null,
   REMARK               STRING                         null,
   PARENT               RELATIONSHIP                   null,
   DICTIONARY_ID        STRING                         null,
   CONTRAGENT           RELATIONSHIP                   null,
   BALANCE_UNIT         STRING                         null,
   START_TIME           DATE                           null,
   END_TIME             DATE                           null,
   CITS_SAP             STRING                         null,
   CDNG_SAP             STRING                         null,
   DATA_SOURCE_ID       RELATIONSHIP                   null,
   BLOCKED              FLAG                           null,
   TaskCreator          STRING                         null,
   DISPLAYNAME          STRING                         null,
   constraint PK_CATALOG_COMPANY_GROUPS_PS primary key clustered (COMPANY_GROUP_SPECIAL_ID)
);

/*==============================================================*/
/* Table: Catalog_Data_Sources_PS                               */
/*==============================================================*/
create or replace table Catalog_Data_Sources_PS 
(
   DATA_SOURCE_ID       SEQUENCE                       not null,
   DATA_SOURCE          STRING                         null,
   DATABASE_NAME        STRING                         null,
   EFFECTIVE_DATE       DATE                           null,
   REMARK               STRING                         null,
   USER_NAME            STRING                         null,
   BLOCKED              FLAG                           null,
   DISPLAYNAME          STRING                         null,
   TASK_CREATOR         STRING                         null,
   constraint PK_CATALOG_DATA_SOURCES_PS primary key clustered (DATA_SOURCE_ID)
);

/*==============================================================*/
/* Table: Catalog_Dictionaries_PS                               */
/*==============================================================*/
create or replace table Catalog_Dictionaries_PS 
(
   Catalog_Name         STRING                         not null,
   System_code          INTEGER                        null,
   OLD_Catalog_Name     STRING                         null,
   Spec                 STRING                         null,
   NAME                 STRING                         null,
   ru_RU                STRING                         null,
   en_US                STRING                         null,
   Project_doc          STRING                         null,
   SCHEME               RELATIONSHIP                   null,
   TECHNICAL_DICTIONARY FLAG                           null,
   SAP_TECH_NAME        STRING                         null,
   ESB_ADDRESS          RELATIONSHIP                   null,
   REMARK               STRING                         null,
   Blocked              FLAG                           null,
   DISPLAYNAME          STRING                         null,
   constraint PK_CATALOG_DICTIONARIES_PS primary key clustered (Catalog_Name)
);

/*==============================================================*/
/* Table: Catalog_Field_Company_Relations_PS                    */
/*==============================================================*/
create or replace table Catalog_Field_Company_Relations_PS 
(
   CSCD_ID              SEQUENCE                       not null,
   Catalog_Name         STRING                         null,
   Cat_DATA_SOURCE_ID   SEQUENCE                       null,
   FIELD_ID             RELATIONSHIP                   null,
   OKTMO                STRING                         null,
   CONTRAGENT_ID        RELATIONSHIP                   not null,
   BALANCE_UNIT         STRING                         null,
   DICTIONARY_ID        RELATIONSHIP                   null,
   ROLE                 STRING                         null,
   START_DATE           DATE                           null,
   END_DATE             DATE                           null,
   REMARK               STRING                         null,
   DATA_SOURCE_ID       RELATIONSHIP                   null,
   BLOCKED              FLAG                           null,
   DISPLAYNAME          STRING                         null,
   constraint PK_CATALOG_FIELD_COMPANY_RELAT primary key clustered (CSCD_ID, CONTRAGENT_ID)
);

/*==============================================================*/
/* Table: Catalog_Fields_PS                                     */
/*==============================================================*/
create or replace table Catalog_Fields_PS 
(
   CSCD_ID              SEQUENCE                       not null,
   SHORT_NAME           STRING                         null,
   ru_RU                STRING                         null,
   en_US                STRING                         null,
   FIELD_NAME           STRING                         null,
   NAME_ENG             STRING                         null,
   FIELD_STATUS_ID      RELATIONSHIP                   null,
   PRODUCT_TYPE_ID      RELATIONSHIP                   null,
   BASIN_ID             RELATIONSHIP                   null,
   LON                  STRING                         null,
   LON_E_W              STRING_ENUMERATION             null,
   LAT                  STRING                         null,
   LAT_N_S              STRING_ENUMERATION             null,
   PLANSTART_DATE       DATE                           null,
   PUTT_ON_PRODUCTION_FACT DATE                           null,
   ON_OFF_SHORE         RELATIONSHIP                   null,
   SEA_SHELPH_ID        RELATIONSHIP                   null,
   COUNTRY_ID           RELATIONSHIP                   null,
   ID_FIAS              STRING                         null,
   REGION_ID            RELATIONSHIP                   null,
   REMARK               STRING                         null,
   RGKM                 STRING                         null,
   CODE_FEC             STRING                         null,
   DATA_SOURCE_ID       RELATIONSHIP                   null,
   TFIELD_ID            STRING                         null,
   Hierarchy_UBM        STRING                         null,
   UBM_BLOCKED_ACTUAL   FLAG                           null,
   FIELD_CODE_ISP       STRING                         null,
   BLOCKED              FLAG                           null,
   DISPLAYNAME          STRING                         null,
   TECTONICS_STRUCTURE  RELATIONSHIP                   null,
   TASK_CREATOR         STRING                         null,
   HISTORY_UBM          GROUPING                       null,
   HISTORY_DISPLAY_NAME STRING                         null,
   UBM_BLOCKED          FLAG                           null,
   DATE_BEGIN           DATE                           null,
   DATE_END             STRING                         null,
   constraint PK_CATALOG_FIELDS_PS primary key clustered (CSCD_ID)
);

alter table Catalog_CONTRAGENTS_PS
   add constraint FK_CATALOG__REFERENCE_ foreign key ()
      references  (CSCD_ID)
      on update restrict
      on delete restrict;

alter table Catalog_Company_Groups_PS
   add constraint FK_CATALOG__REFERENCE_CATALOG_6 foreign key (CSCD_ID)
      references Catalog_CONTRAGENTS_PS (CSCD_ID)
      on update restrict
      on delete restrict;

alter table Catalog_Company_Groups_PS
   add constraint FK_CATALOG__REFERENCE_CATALOG_5 foreign key (PARENT)
      references Catalog_Company_Groups_PS (COMPANY_GROUP_SPECIAL_ID)
      on update restrict
      on delete restrict;

alter table Catalog_Field_Company_Relations_PS
   add constraint FK_CATALOG__REFERENCE_CATALOG_1 foreign key (CSCD_ID)
      references Catalog_Fields_PS (CSCD_ID)
      on update restrict
      on delete restrict;

alter table Catalog_Field_Company_Relations_PS
   add constraint FK_CATALOG__REFERENCE_CATALOG_2 foreign key (Cat_DATA_SOURCE_ID)
      references Catalog_Data_Sources_PS (DATA_SOURCE_ID)
      on update restrict
      on delete restrict;

alter table Catalog_Field_Company_Relations_PS
   add constraint FK_CATALOG__REFERENCE_CATALOG_3 foreign key (Catalog_Name)
      references Catalog_Dictionaries_PS (Catalog_Name)
      on update restrict
      on delete restrict;

alter table Catalog_Field_Company_Relations_PS
   add constraint FK_CATALOG__REFERENCE_CATALOG_4 foreign key (CONTRAGENT_ID)
      references Catalog_Company_Groups_PS (COMPANY_GROUP_SPECIAL_ID)
      on update restrict
      on delete restrict;